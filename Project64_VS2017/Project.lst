Microsoft (R) Macro Assembler (x64) Version 14.13.26131.1   04/25/18 17:25:56
..\Irvine\ch05\64 bit\TestRandom.asm			     Page 1 - 1


				ExitProcess	proto
				WriteInt64	proto
				Crlf		proto
 00000000			.data
 00000000			nMinus2 QWORD 0
	   0000000000000000
 00000008			nMinus1 QWORD 1
	   0000000000000001
 00000010			n		QWORD 0
	   0000000000000000
 00000018			count   QWORD 47-1
	   000000000000002E
 00000000			.code
 00000000			main proc
					;set loop counter
 00000000  48/ 8B 0D			mov rcx, count
	   00000018 R

					;print n-2
 00000007  48/ 8B 05			mov rax, nMinus2
	   00000000 R
 0000000E  E8 00000000 E		call WriteInt64 
 00000013  E8 00000000 E		call Crlf

					;print n-1
 00000018  48/ 8B 05			mov rax, nMinus1
	   00000008 R
 0000001F  E8 00000000 E		call WriteInt64
 00000024  E8 00000000 E		call Crlf
 00000029  E8 00000005			call FibGen
					;start loop
					
 0000002E  E8 00000000 E	   call ExitProcess
 00000033			main endp

 00000033			FibGen PROC
 00000033				L1:
						;set n = nMinus2 + nMinus1; 1+1
 00000033  4C/ 8B 0D				mov r9, nMinus2
	   00000000 R
 0000003A  4C/ 03 0D				add r9, nMinus1
	   00000008 R
 00000041  4C/ 89 0D				mov n,r9
	   00000010 R

						;print n
 00000048  48/ 8B 05				mov rax, n
	   00000010 R
 0000004F  E8 00000000 E			call WriteInt64
 00000054  E8 00000000 E			call Crlf

						;nMinus2 = nMinus1
 00000059  4C/ 8B 0D				mov r9, nMinus1
	   00000008 R
 00000060  4C/ 89 0D				mov nMinus2, r9
	   00000000 R

						;nMinus1 = n
 00000067  4C/ 8B 0D				mov r9, n
	   00000010 R
 0000006E  4C/ 89 0D				mov nMinus1, r9
	   00000008 R
 00000075  E2 BC				LOOP L1 
 00000077  C3			ret
 00000078			FibGen endp
				end
Microsoft (R) Macro Assembler (x64) Version 14.13.26131.1   04/25/18 17:25:56
..\Irvine\ch05\64 bit\TestRandom.asm			     Symbols 2 - 1




Procedures, parameters, and locals:

                N a m e                 Type     Value    Attr

Crlf . . . . . . . . . . . . . .	P 	 00000000 Length= 00000000 External
ExitProcess  . . . . . . . . . .	P 	 00000000 Length= 00000000 External
FibGen . . . . . . . . . . . . .	P 	 00000033 _TEXT	Length= 00000045 Public
  L1 . . . . . . . . . . . . . .	L 	 00000033 _TEXT	
WriteInt64 . . . . . . . . . . .	P 	 00000000 Length= 00000000 External
main . . . . . . . . . . . . . .	P 	 00000000 _TEXT	Length= 00000033 Public


Symbols:

                N a m e                 Type     Value    Attr

count  . . . . . . . . . . . . .	QWord	 00000018 _DATA	
nMinus1  . . . . . . . . . . . .	QWord	 00000008 _DATA	
nMinus2  . . . . . . . . . . . .	QWord	 00000000 _DATA	
n  . . . . . . . . . . . . . . .	QWord	 00000010 _DATA	

	   0 Warnings
	   0 Errors
